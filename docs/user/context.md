# Работа с контекстом в RAGGEN

## Что такое контекст

Контекст в RAGGEN - это дополнительная информация, которая помогает модели генерировать более точные и релевантные ответы. Система автоматически находит и использует наиболее подходящие фрагменты информации из ваших документов для каждого запроса.

### Принцип работы
1. Когда вы задаете вопрос, система анализирует его содержание
2. Находит наиболее релевантные фрагменты в базе знаний
3. Добавляет эти фрагменты к запросу как контекст
4. Модель генерирует ответ, опираясь на предоставленный контекст

### Преимущества использования контекста
- Более точные ответы
- Использование актуальной информации
- Снижение галлюцинаций модели
- Возможность работы со специфической информацией

## Как работает контекстный поиск

### Векторные эмбеддинги
RAGGEN использует современные алгоритмы векторизации текста для поиска релевантного контекста:
- Каждый документ разбивается на небольшие фрагменты
- Фрагменты преобразуются в векторные представления (эмбеддинги)
- При поиске система находит фрагменты с наиболее похожими векторами

### Процесс поиска
1. Векторизация вашего запроса
2. Поиск похожих векторов в базе
3. Ранжирование результатов по релевантности
4. Выбор наиболее подходящих фрагментов

### Особенности реализации
- Использование модели all-MiniLM-L6-v2 для векторизации
- Оптимизированное хранилище векторов на базе FAISS
- Быстрый поиск ближайших соседей
- Эффективное обновление индекса

## Настройка релевантности

### Основные параметры
- Порог релевантности (0.0-1.0)
- Количество используемых фрагментов
- Максимальная длина контекста
- Приоритет источников

### Рекомендации по настройке
- Для общих вопросов: низкий порог релевантности (0.3-0.5)
- Для специфических вопросов: высокий порог (0.6-0.8)
- Оптимальное количество фрагментов: 3-5
- Учитывайте ограничения модели по длине контекста

### Тонкая настройка
- Настройка веса новых документов
- Приоритизация определенных типов файлов
- Исключение нерелевантных источников
- Балансировка между точностью и разнообразием

## Примеры использования

### Базовый пример
```
Вопрос: "Как настроить температуру генерации?"
Использованный контекст: [Раздел о температуре из документации]
Результат: Точный ответ с параметрами из документации
```

### Работа со специфической информац��ей
```
Вопрос: "Какие особенности у провайдера GigaChat?"
Использованный контекст: [Документация по провайдерам]
Результат: Детальный ответ с учетом специфики провайдера
```

### Комбинирование источников
```
Вопрос: "Как оптимизировать использование контекста?"
Использованный контекст: [Технические детали + Примеры использования]
Результат: Комплексный ответ с практическими рекомендациями
```

### Советы по эффективному использованию
- Формулируйте конкретные вопросы
- Используйте ключевые слова из предметной области
- Проверяйте используемый контекст
- Корректируйте настройки под ваши задачи
``` 